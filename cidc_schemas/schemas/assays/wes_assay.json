{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "wes_assay",
  "title": "Whole Exome Sequencing Assay.",
  "type": "object",
  "description": "Whole exome sequencing.",
  "additionalProperties": false,
  "allOf": [
      { "$ref": "assays/components/assay_core.json" },
      { "$ref": "assays/components/ngs_assay_core.json" }
  ],
  "properties": {
      "assay_creator": {"$comment": "defined in assay_core.json"},
      "sequencer_platform": {"$comment": "defined in ngs_assay_core.json"},
      "library_vendor_kit": {"$comment": "defined in ngs_assay_core.json"},
      "paired_end_reads": {"$comment": "defined in ngs_assay_core.json"},
      "read_length": {"$comment": "defined in ngs_assay_core.json"},
      "assay_run_id": {
          "type": "string",
          "description": "User defined unique identifier for this assay run."
      },
      "enrichment_vendor_kit": {
          "description": "Vendor for the bait set used for enrichment , e.g. Twist, Agilent, IDT.",
          "type": "string",
          "enum": ["Agilent", "Twist", "IDT", "NEB"]
      },
      "records": {
          "type": "array",
          "description": "A single data record from WES assay.",
          "items": {
            "$ref": "assays/components/ngs/wes_entry.json"
          },
          "mergeStrategy": "arrayMergeById",
          "mergeOptions": {
            "idRef": "cimac_id"
          }
      },
      "export":{
          "type":"array",
          "description": "A single export data record from WES assay.",
          "items":{
            "$ref": "assays/components/ngs/wes_analysis.json"
          }
      }
  },
  "required": [
    "records",
    "assay_run_id"
  ],
  "mergeStrategy": "objectMerge"
}
