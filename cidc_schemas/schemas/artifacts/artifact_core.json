{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "artifact_core",
  "title": "Artifact Core",
  "type": "object",
  "description": "Any file artifact associated with a clinical trial.",
  "properties": {
    "upload_placeholder": {
      "$comment": "A placeholder for when artifact file is being upoloaded. It might be something like random uuid or `upload_job_id` to help trace everything back.",
      "type": "string"
    },
    "artifact_creator": {
      "description": "The name of the center that created this artificat",
      "type": "string",
      "enum": ["DFCI", "Mount Sinai", "Stanford", "MD Anderson"]
    },
    "uploader": {
      "type": "string"
    },
    "uuid": {
      "description": "UUID of artifact.",
      "type": "string"
    },
    "file_name": {
      "$comment": "_____!!!_____ What if file name contains PHI? _____!!!_____",
      "description": "The name of the file with extension",
      "type": "string"
    },
    "object_url": {
      "description": "URL to artifact within Google Bucket.",
      "type": "string"
    },
    "uploaded_timestamp": {
      "description": "Timestamp of when artfiact was loaded into the system.",
      "type": "string",
      "format": "date-time"
    },
    "file_size_bytes": {
      "description": "File size in bytes.",
      "type": "integer"
    },
    "md5_hash": {
      "description": "MD5 Hash of artifact.",
      "type": "string"
    },
    "visible": {
      "description": "Indicates if the artifiact if visible.  If set to false, the artifact is effectively deleted.",
      "type": "boolean"
    },
    "artifact_category": {
      "description": "Artifact category.",
      "type": "string",
      "enum": [
        "Assay Artifact from CIMAC",
        "Pipeline Artifact",
        "Manifest File"
      ]
    }
  },
  "oneOf": [
    {
      "required": [
        "file_name",
        "object_url",
        "uploaded_timestamp",
        "file_size_bytes",
        "md5_hash",
        "artifact_category"
      ]
    },
    {
      "required": [
        "upload_placeholder"
      ]
    }
  ]
}
