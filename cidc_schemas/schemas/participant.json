{
  "$schema": "metaschema/strict_meta_schema.json#",
  "$id": "participant",
  "title": "Participant",
  "description": "The collection of all data related to a specific participant in the context of a specific clinical trial.\n",
  "additionalProperties": false,
  "type": "object",
  "properties": {
    "cimac_participant_id": {
      "type": "string",
      "in_doc_ref_pattern": "/participants/*/cimac_participant_id",
      "$comment": "With `in_doc_ref_pattern` here, there's no need to specify it each time cimac_participant_id is $ref'ed, constrain will be pulled in place by ref resolver automatically, assuring that it will be checked for every cimac_participant_id $ref.",
      "pattern": "^C[A-Z0-9]{3}[A-Z0-9]{3}$",
      "example": "CTTTP01",
      "description": "Participant identifier assigned by the CIMAC-CIDC Network. Formated as: C??????."
    },
    "participant_id": {
      "type": "string",
      "description": "Trial Participant Identifier.",
      "example": "PT123"
    },
    "cohort_name": {
      "type": "string",
      "description": "Categorical description of cohorts, arms, and treatment groups.",
      "example": "Arm_Z",
      "in_doc_ref_pattern": "/allowed_cohort_names/*",
      "$comment": "This enum lists a union of all possible values from all supported trials at the moment. Options are further limited by `in_doc_ref_pattern`.",
      "enum": [
        "Arm_A",
        "Arm_B",
        "Arm_C",
        "Arm_D", 
        "Arm_E",
        "Arm_F",
        "Arm_G",
        "Arm_H",
        "Arm_I",
        "Arm_X",
        "Arm_Y",
        "Arm_Z",

        "Arm_1",
        "Arm_2",

        "EAY131-Z1D",

        "NSCLC_A",
        "NSCLC_B",
        "NSCLC_C",
        "CRC_A",
        "CRC_B",

        "Dose_A",
        "Dose_B",
        "Dose_C",
        "Dose_D",

        "Other",
        "Not_reported"
      ],
      "enum_comments": {
        "Arm_A": "E4412 or 10026",
        "Arm_B": "E4412 or 10026",
        "Arm_C": "E4412",
        "Arm_D": "E4412", 
        "Arm_E": "E4412",
        "Arm_F": "E4412",
        "Arm_G": "E4412",
        "Arm_H": "E4412",
        "Arm_I": "E4412",
        "Arm_X": "E4412",
        "Arm_Y": "E4412",
        "Arm_Z": "E4412",

        "Arm_1": "S1400I",
        "Arm_2": "S1400I",

        "NSCLC_A": "10021",
        "NSCLC_B": "10021",
        "NSCLC_C": "10021",
        "CRC_A": "10021",
        "CRC_B": "10021",

        "Dose_A": "9204",
        "Dose_B": "9204",
        "Dose_C": "9204",
        "Dose_D": "9204",

        "Not reported": "Can be used for blinded values"
      }
    },
    "essential_patient_entry_number": {
        "description": "Provides a numbered identifier for patient (sample) entry in a shipment manifest.",
        "type": "integer"
    },
    "gender": {
      "type": "string",
      "description": "Identifies the gender of the participant.",
      "enum": ["Male", "Female", "Not Specified", "Other"]
    },
    "race": {
      "type": "string",
      "description": "'NIH Racial and Ethnic Categories and Definitions for NIH Diversity Programs and for Other Reporting Purposes (NOT-OD-15-089),  Release Date: April 8, 2015.'\n",
      "enum": [
        "American Indian/Alaska Native",
        "Asian",
        "Black/African American",
        "Native Hawaiian/Pacific Islander",
        "White",
        "Not Reported",
        "Unknown",
        "Other"
      ]
    },
    "ethnicity": {
      "type": "string",
      "description": "'NIH Racial and Ethnic Categories and Definitions for NIH Diversity Programs and for Other Reporting Purposes (NOT-OD-15-089),  Release Date: April 8, 2015.'\n",
      "enum": [
        "Hispanic or Latino",
        "Not Hispanic or Latino",
        "Not reported",
        "Unknown",
        "Other"
      ]
    },
    "samples": {
      "type": "array",
      "items": {
        "$ref": "sample.json"
      },
      "mergeStrategy": "arrayMergeById",
      "mergeOptions": {
        "idRef": "/cimac_id"
      }
    }
  },
  "required": [
    "cimac_participant_id",
    "participant_id",
    "cohort_name",
    "samples"]
}
