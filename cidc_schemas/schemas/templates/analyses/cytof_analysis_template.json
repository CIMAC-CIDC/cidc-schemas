{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$id": "cytof_analysis",
    "title": "CyTOF analysis template",
    "type": "object",
    "category": "analysis",
    "description": "Metadata information for CyTOF Analysis output.",
    "prism_template_root_object_schema": "assays/cytof_assay.json",
    "prism_template_root_object_pointer": "/assays/cytof/0",
    "properties": {
        "worksheets": {
            "CyTOF Analysis": {
                "preamble_rows": {
                      "Protocol Identifier": {
                        "merge_pointer": "2/protocol_identifier",
                        "type_ref": "clinical_trial.json#properties/protocol_identifier"
                      }
                },
                "prism_data_object_pointer": "/records/0/output_files",
                "data_columns": {
                    "Astrolabe Runs": {
                        "Cimac ID": {
                            "merge_pointer": "1/cimac_id",
                            "type_ref": "sample.json#properties/cimac_id"
                        },
                        "fcs file": {
                            "merge_pointer": "/fcs_file",
                            "type_ref": "assays/components/local_file.json#properties/file_path",
                            "gcs_uri_format": "{protocol identifier}/{cimac id}/cytof/source_{num}.fcs",
                            "is_artifact": 1
                        },
                        "astrolabe reports": {
                            "merge_pointer": "/astrolabe_reports",
                            "type_ref": "assays/components/local_file.json#properties/file_path",
                            "gcs_uri_format": "{protocol identifier}/{cimac id}/cytof/reports_{num}.zip",
                            "is_artifact": 1
                        },
                        "astrolabe analysis": {
                            "merge_pointer": "/astrolabe_analysis",
                            "type_ref": "assays/components/local_file.json#properties/file_path",
                            "gcs_uri_format": "{protocol identifier}/{cimac id}/cytof/analysis_{num}.zip",
                            "is_artifact": 1
                        },
                        "assignment": {
                            "merge_pointer": "/assignment",
                            "type_ref": "assays/components/local_file.json#properties/file_path",
                            "gcs_uri_format": "{protocol identifier}/{cimac id}/cytof/assignment.csv",
                            "is_artifact": "1"
                        },
                        "compartment": {
                            "merge_pointer": "/compartment",
                            "type_ref": "assays/components/local_file.json#properties/file_path",
                            "gcs_uri_format": "{protocol identifier}/{cimac id}/cytof/compartment.csv",
                            "is_artifact": 1
                        },
                        "profiling": {
                            "merge_pointer": "/profiling",
                            "type_ref": "assays/components/local_file.json#properties/file_path",
                            "gcs_uri_format": "{protocol identifier}/{cimac id}/cytof/profiling.csv",
                            "is_artifact": 1
                        },
                        "cell counts assignment": {
                            "merge_pointer": "/cell_counts_assignment",
                            "type_ref": "assays/components/local_file.json#properties/file_path",
                            "gcs_uri_format": "{protocol identifier}/{cimac id}/cytof/cell_counts_analysis.csv",
                            "is_artifact": 1
                        },
                        "cell counts compartment": {
                            "merge_pointer": "/cell_counts_compartment",
                            "type_ref": "assays/components/local_file.json#properties/file_path",
                            "gcs_uri_format": "{protocol identifier}/{cimac id}/cytof/cell_counts_compartment.csv",
                            "is_artifact": 1
                        },
                        "cell counts profiling": {
                            "merge_pointer": "cell_counts_profiling",
                            "type_ref": "assays/components/local_file.json#properties/file_path",
                            "gcs_uri_format": "{protocol identifier}/{cimac id}/cytof/cell_counts_profiling.csv",
                            "is_artifact": 1
                        }
                    }
                }
            }
        }
    }
}